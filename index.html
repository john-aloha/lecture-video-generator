<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video Pipeline â€” Webhook Form</title>
    <meta name="description"
        content="Submit lecture content to the Video Pipeline n8n webhook for automated video generation." />
    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <!-- â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <header class="app-header">
        <h1>ðŸŽ¬ Video Pipeline</h1>
        <p>Compose &amp; submit lecture content to the video generation webhook</p>
    </header>

    <!-- â”€â”€ Main grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div class="app-container">

        <!-- â•â•â•â•â•â•â•â• LEFT: Form â•â•â•â•â•â•â•â• -->
        <div class="form-panel">

            <!-- Webhook URL bar -->
            <div class="card" style="margin-bottom:1.2rem">
                <div class="section-title"><span class="dot"></span>Webhook Endpoint</div>
                <div class="webhook-bar">
                    <div class="toggle-group">
                        <span class="toggle-label active" id="lbl-test">Test</span>
                        <div class="toggle-track" id="env-toggle" role="switch" aria-checked="false" tabindex="0"></div>
                        <span class="toggle-label" id="lbl-prod">Prod</span>
                    </div>
                    <input type="text" class="webhook-url-input" id="webhook-url"
                        value="https://n8n.aloha.university/webhook-test/video-pipeline" placeholder="https://â€¦" />
                </div>
            </div>

            <form id="pipeline-form" novalidate autocomplete="off">

                <!-- â”€â”€ Job ID (collapsible, hidden by default) â”€â”€â”€â”€ -->
                <div class="card" style="margin-bottom:1.2rem">
                    <button type="button" class="constraints-toggle" id="jobid-toggle">
                        <span><span class="dot"
                                style="display:inline-block;width:6px;height:6px;border-radius:50%;background:var(--accent);margin-right:6px;vertical-align:middle"></span>JOB
                            ID
                            <span
                                style="color:var(--text-dim);font-size:.7rem;text-transform:none;letter-spacing:0;font-weight:400">optional</span></span>
                        <span class="chevron">â–¼</span>
                    </button>
                    <div class="jobid-body" id="jobid-body">
                        <div class="form-group">
                            <label for="jobId">Unique identifier (auto-generated if left blank)</label>
                            <input type="text" id="jobId" name="jobId" placeholder="my-bio-101-lecture" maxlength="255"
                                pattern="^[a-zA-Z0-9_\-\.]+$" />
                            <p class="hint">Letters, numbers, hyphens, underscores, dots only</p>
                            <p class="error-msg">Invalid characters â€” use only letters, numbers, _ - .</p>
                        </div>
                    </div>
                </div>

                <!-- â”€â”€ Course (required) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
                <div class="card" style="margin-bottom:1.2rem">
                    <div class="section-title"><span class="dot"></span>Course <span
                            class="required-badge">required</span></div>

                    <div class="form-group">
                        <label for="courseName">Course Name *</label>
                        <input type="text" id="courseName" name="courseName" required
                            placeholder="BIOL 101 â€“ Introduction to Biology" maxlength="200" />
                        <p class="error-msg">Course name is required</p>
                    </div>

                    <div class="form-group">
                        <label for="sectionTitle">Section / Chapter Title *</label>
                        <input type="text" id="sectionTitle" name="sectionTitle" required
                            placeholder="Chapter 3 â€” Cell Membranes" maxlength="200" />
                        <p class="error-msg">Section title is required</p>
                    </div>

                    <div class="form-group">
                        <label for="voiceId">Voice</label>
                        <select id="voiceId" name="voiceId">
                            <option value="DEFAULT" selected>Default (env setting)</option>
                            <optgroup label="â”€â”€ Education &amp; Narration â”€â”€">
                                <option value="Blake">Blake â€” Narrator, clear &amp; authoritative</option>
                                <option value="Mark">Mark â€” Commentator, engaging &amp; dynamic</option>
                                <option value="Brian">Brian â€” Friendly, encouraging (educational tutorials)</option>
                                <option value="Simon">Simon â€” Articulate, insightful (corporate/tutorials)</option>
                                <option value="Elliot">Elliot â€” Deep, commanding (documentaries/audiobooks)</option>
                                <option value="Graham">Graham â€” Profound, authoritative British</option>
                                <option value="Rupert">Rupert â€” Resonant, commanding British</option>
                                <option value="James">James â€” Vibrant, expressive (animated content)</option>
                                <option value="Abby">Abby â€” Bright, eager child voice (kids' content)</option>
                            </optgroup>
                            <optgroup label="â”€â”€ Professional â”€â”€">
                                <option value="Lauren">Lauren â€” Confident, friendly American female</option>
                                <option value="Jessica">Jessica â€” Encouraging, articulate American female</option>
                                <option value="Ethan">Ethan â€” Assured, precise (tech tutorials)</option>
                                <option value="Tyler">Tyler â€” Authoritative, insightful (tech explainers)</option>
                                <option value="Jason">Jason â€” Lucid, engrossing (tech tips)</option>
                            </optgroup>
                            <optgroup label="â”€â”€ Conversational â”€â”€">
                                <option value="Ashley">Ashley â€” Warm, natural American female</option>
                                <option value="Olivia">Olivia â€” Upbeat, friendly British female</option>
                                <option value="Edward">Edward â€” Fast-talking, emphatic American male</option>
                                <option value="Alex">Alex â€” Neutral, versatile</option>
                                <option value="Kayla">Kayla â€” Enthusiastic, youthful female</option>
                                <option value="Nate">Nate â€” Laid-back, engaging male</option>
                                <option value="Jake">Jake â€” Amiable, introspective male</option>
                                <option value="Chloe">Chloe â€” Thoughtful, introspective youthful female</option>
                            </optgroup>
                            <optgroup label="â”€â”€ Calm &amp; Meditation â”€â”€">
                                <option value="Luna">Luna â€” Meditation instructor, calm &amp; soothing</option>
                                <option value="Hana">Hana â€” Companion, warm &amp; friendly</option>
                                <option value="Claire">Claire â€” Warm, gentle (bedtime stories)</option>
                                <option value="Serena">Serena â€” Soft, nurturing (mindfulness)</option>
                                <option value="Oliver">Oliver â€” Soothing, precise male</option>
                                <option value="Gareth">Gareth â€” Soothing, gentle male</option>
                                <option value="Evelyn">Evelyn â€” Gentle, serene female</option>
                                <option value="Celeste">Celeste â€” Soft, whispery female (ASMR)</option>
                            </optgroup>
                            <optgroup label="â”€â”€ Southern US â”€â”€">
                                <option value="Loretta">Loretta â€” Inviting, folksy Southern female</option>
                                <option value="Darlene">Darlene â€” Soothing, comforting Southern female</option>
                                <option value="Marlene">Marlene â€” Friendly, relaxed Southern female</option>
                                <option value="Hank">Hank â€” Warm, laid-back Southern male</option>
                            </optgroup>
                            <optgroup label="â”€â”€ Australian â”€â”€">
                                <option value="Pippa">Pippa â€” Soothing, trustworthy Australian female</option>
                                <option value="Tessa">Tessa â€” Upbeat, conversational Australian female</option>
                                <option value="Liam">Liam â€” Upbeat, motivating Australian male</option>
                                <option value="Callum">Callum â€” Laid-back, amiable Australian male</option>
                                <option value="Hamish">Hamish â€” Calm, trustworthy Australian male</option>
                            </optgroup>
                            <optgroup label="â”€â”€ Indian â”€â”€">
                                <option value="Anjali">Anjali â€” Soothing, assured Indian female</option>
                                <option value="Saanvi">Saanvi â€” Crisp, articulate Indian female</option>
                                <option value="Arjun">Arjun â€” Smooth, enthusiastic Indian male</option>
                            </optgroup>
                            <optgroup label="â”€â”€ Multilingual â”€â”€">
                                <option value="Diego">Diego â€” Spanish male, soothing &amp; gentle</option>
                                <option value="Lupita">Lupita â€” Spanish female, vibrant &amp; energetic</option>
                                <option value="Miguel">Miguel â€” Spanish male, calm storyteller</option>
                                <option value="Rafael">Rafael â€” Spanish male, deep &amp; composed narrator</option>
                                <option value="Riya">Riya â€” Hindi female, professional &amp; clean</option>
                                <option value="Manoj">Manoj â€” Hindi male, clear &amp; professional</option>
                                <option value="Pierre">Pierre â€” French male, mid-range narrator</option>
                                <option value="Camille">Camille â€” French female, expressive storyteller</option>
                                <option value="Yuki">Yuki â€” Japanese female, clear &amp; composed</option>
                                <option value="Asuka">Asuka â€” Japanese female, friendly</option>
                                <option value="Satoshi">Satoshi â€” Japanese male, dramatic &amp; expressive</option>
                                <option value="Minji">Minji â€” Korean female, energetic &amp; friendly</option>
                                <option value="Hyunwoo">Hyunwoo â€” Korean male, young adult</option>
                                <option value="Seojun">Seojun â€” Korean male, clear &amp; deep</option>
                                <option value="Yoona">Yoona â€” Korean female, gentle &amp; soothing</option>
                                <option value="Orietta">Orietta â€” Italian female, calm &amp; soothing</option>
                                <option value="Szymon">Szymon â€” Polish male, warm &amp; friendly</option>
                                <option value="Wojciech">Wojciech â€” Polish male, middle-aged</option>
                                <option value="Heitor">Heitor â€” Portuguese male, composed &amp; neutral</option>
                                <option value="MaitÃª">MaitÃª â€” Portuguese female, middle-aged</option>
                                <option value="Svetlana">Svetlana â€” Russian female, soft &amp; breathy</option>
                                <option value="Elena">Elena â€” Russian female, clear &amp; neutral</option>
                                <option value="Dmitry">Dmitry â€” Russian male, deep &amp; commanding</option>
                                <option value="Nikolai">Nikolai â€” Russian male, deep &amp; theatrical</option>
                                <option value="Amina">Amina â€” West African female, warm &amp; inviting</option>
                                <option value="Yael">Yael â€” Hebrew female, mid-range narrator</option>
                                <option value="Oren">Oren â€” Hebrew male, steady narrator</option>
                                <option value="Nour">Nour â€” Arabic female, polished &amp; friendly</option>
                                <option value="Omar">Omar â€” Arabic male, bright &amp; confident</option>
                            </optgroup>
                            <optgroup label="â”€â”€ Character &amp; Villain â”€â”€">
                                <option value="Hades">Hades â€” Deep character voice</option>
                                <option value="Vinny">Vinny â€” Gritty, assertive New York male</option>
                                <option value="Mortimer">Mortimer â€” Gravelly, menacing male (horror)</option>
                                <option value="Snik">Snik â€” Hoarse, cunning male (goblin/trickster)</option>
                                <option value="Veronica">Veronica â€” Intimidating, commanding female</option>
                                <option value="Victoria">Victoria â€” Silky, cunning female</option>
                                <option value="Miranda">Miranda â€” Menacing, serene female</option>
                                <option value="Sebastian">Sebastian â€” Intimidating, steely male</option>
                                <option value="Victor">Victor â€” Ominous, sinister male</option>
                                <option value="Malcolm">Malcolm â€” Authoritative, manipulative male</option>
                            </optgroup>
                            <optgroup label="â”€â”€ Customer Support â”€â”€">
                                <option value="Clive">Clive â€” Professional support agent</option>
                                <option value="Kelsey">Kelsey â€” Warm, empathetic female</option>
                                <option value="Derek">Derek â€” Steady, professional male</option>
                                <option value="Grant">Grant â€” Calm, attentive male</option>
                                <option value="Evan">Evan â€” Friendly, approachable male</option>
                            </optgroup>
                        </select>
                        <p class="hint">Inworld TTS voice. "Default" uses the server environment setting.</p>
                    </div>

                    <div class="form-group">
                        <label for="styleLock">Style Lock</label>
                        <textarea id="styleLock" name="styleLock" rows="2" maxlength="500"
                            placeholder="clean educational motion graphics, consistent palette, no on-screen text in generated video clips"></textarea>
                        <p class="hint">Visual directive for Sora 2 clips. Defaults shown in placeholder.</p>
                    </div>
                </div>

                <!-- â”€â”€ Source Content â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
                <div class="card" style="margin-bottom:1.2rem">
                    <div class="section-title"><span class="dot"></span>Source Content</div>

                    <div class="source-tabs">
                        <button type="button" class="source-tab active" data-source="html">HTML (preferred)</button>
                        <button type="button" class="source-tab" data-source="text">Plain Text</button>
                    </div>

                    <div class="source-pane active" id="pane-html">
                        <div class="form-group">
                            <label for="sourceHtml">Paste HTML content body</label>
                            <textarea id="sourceHtml" name="sourceHtml" rows="8" maxlength="100000"
                                placeholder='<h2>Cell Membranes</h2><p>Cell membranes are composed of a <strong>phospholipid bilayer</strong>...</p>'></textarea>
                            <div class="word-count" id="wc-html"></div>
                            <p class="hint">Recommended: 800â€“3 000 words for a 10â€“20 min video.</p>
                        </div>
                    </div>

                    <div class="source-pane" id="pane-text">
                        <div class="form-group">
                            <label for="sourceText">Paste plain text</label>
                            <textarea id="sourceText" name="sourceText" rows="8" maxlength="50000"
                                placeholder="Cell membranes are composed of a phospholipid bilayerâ€¦"></textarea>
                            <div class="word-count" id="wc-text"></div>
                            <p class="hint">Minimum 100 characters. Used only if HTML is not provided.</p>
                        </div>
                    </div>
                </div>

                <!-- â”€â”€ Constraints (collapsible) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
                <div class="card" style="margin-bottom:1.2rem">
                    <button type="button" class="constraints-toggle" id="constraints-toggle">
                        <span><span class="dot"
                                style="display:inline-block;width:6px;height:6px;border-radius:50%;background:var(--accent);margin-right:6px;vertical-align:middle"></span>CONSTRAINTS
                            <span
                                style="color:var(--text-dim);font-size:.7rem;text-transform:none;letter-spacing:0;font-weight:400">optional
                                â€” defaults shown</span></span>
                        <span class="chevron">â–¼</span>
                    </button>

                    <div class="constraints-body" id="constraints-body">
                        <!-- Each constraint slider -->
                        <div class="constraint-item">
                            <label>Target Minutes (min) <span class="default-badge">default: 10</span></label>
                            <div class="range-row">
                                <input type="range" id="c-targetMinutesMin" min="1" max="60" value="10" />
                                <span class="range-value" id="v-targetMinutesMin">10</span>
                            </div>
                        </div>
                        <div class="constraint-item">
                            <label>Target Minutes (max) <span class="default-badge">default: 20</span></label>
                            <div class="range-row">
                                <input type="range" id="c-targetMinutesMax" min="2" max="120" value="20" />
                                <span class="range-value" id="v-targetMinutesMax">20</span>
                            </div>
                        </div>
                        <div class="constraint-item">
                            <label>Min Slides <span class="default-badge">default: 10</span></label>
                            <div class="range-row">
                                <input type="range" id="c-minSlides" min="3" max="50" value="10" />
                                <span class="range-value" id="v-minSlides">10</span>
                            </div>
                        </div>
                        <div class="constraint-item">
                            <label>Max Slides <span class="default-badge">default: 18</span></label>
                            <div class="range-row">
                                <input type="range" id="c-maxSlides" min="5" max="50" value="18" />
                                <span class="range-value" id="v-maxSlides">18</span>
                            </div>
                        </div>
                        <div class="constraint-item">
                            <label>WPM Target <span class="default-badge">default: 140</span></label>
                            <div class="range-row">
                                <input type="range" id="c-wpmTarget" min="80" max="200" value="140" />
                                <span class="range-value" id="v-wpmTarget">140</span>
                            </div>
                        </div>
                        <div class="constraint-item">
                            <label>Max Clips <span class="default-badge">default: 6</span></label>
                            <div class="range-row">
                                <input type="range" id="c-maxClips" min="0" max="12" value="6" />
                                <span class="range-value" id="v-maxClips">6</span>
                            </div>
                        </div>
                        <div class="constraint-item">
                            <label>Clip Duration (min sec) <span class="default-badge">default: 3</span></label>
                            <div class="range-row">
                                <input type="range" id="c-clipDurationMin" min="1" max="15" value="3" />
                                <span class="range-value" id="v-clipDurationMin">3</span>
                            </div>
                        </div>
                        <div class="constraint-item">
                            <label>Clip Duration (max sec) <span class="default-badge">default: 10</span></label>
                            <div class="range-row">
                                <input type="range" id="c-clipDurationMax" min="3" max="30" value="10" />
                                <span class="range-value" id="v-clipDurationMax">10</span>
                            </div>
                        </div>
                        <div class="constraint-item">
                            <label>Inworld Max Chars <span class="default-badge">default: 2000</span></label>
                            <div class="range-row">
                                <input type="range" id="c-inworldMaxChars" min="500" max="10000" step="100"
                                    value="2000" />
                                <span class="range-value" id="v-inworldMaxChars">2000</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- â”€â”€ Submit â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
                <div class="submit-row">
                    <button type="submit" class="submit-btn" id="submit-btn">
                        <span class="spinner"></span>
                        <span class="btn-text">ðŸš€ Send to Pipeline</span>
                    </button>
                </div>
            </form>
        </div>

        <!-- â•â•â•â•â•â•â•â• RIGHT: Preview â•â•â•â•â•â•â•â• -->
        <div class="preview-panel card" style="align-self:start;position:sticky;top:1.2rem">
            <div class="preview-header">
                <h3>Live JSON Preview</h3>
                <button type="button" class="copy-btn" id="copy-btn">Copy</button>
            </div>
            <pre class="json-preview" id="json-preview"></pre>
        </div>

    </div><!-- /app-container -->

    <!-- â”€â”€ Toast container â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div class="toast-container" id="toast-container"></div>

    <script src="app.js"></script>
</body>

</html>